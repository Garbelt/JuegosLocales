<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo de Juegos - Canciones Patrias</title>
    <link rel="stylesheet" href="styles.css"> <!-- Asegúrate de que styles.css esté correctamente enlazado -->
</head>
<body>
    <div class="container">
        <h2>Catálogo de Juegos - Las Vocales</h2>
        <table>
            <tr>
                <td><img src="Imagenes/juego01.jpg" alt="Juego 01"></td>
                <td><img src="Imagenes/juego02.jpg" alt="Juego 02"></td>
                <td><img src="Imagenes/juego03.jpg" alt="Juego 03"></td>
                <td><img src="Imagenes/juego04.jpg" alt="Juego 04"></td>
                <td><img src="Imagenes/juego05.jpg" alt="Juego 05"></td>
            </tr>
            <tr>
                <td><a href="Juego 01/gral/gral.html" onclick="setRutina('Juego 01')">Juego 01</a></td>
                <td><a href="Juego 02/gral/gral.html" onclick="setRutina('Juego 02')">Juego 02</a></td>
                <td><a href="Juego 03/gral/gral.html" onclick="setRutina('Juego 03')">Juego 03</a></td>
                <td><a href="Juego 04/gral/gral.html" onclick="setRutina('Juego 04')">Juego 04</a></td>
                <td><a href="Juego 05/gral/gral.html" onclick="setRutina('Juego 05')">Juego 05</a></td>
            </tr>
        </table>

	<button id="backButton">Volver al Menú de Juegos</button>
        <button id="exitButton" onclick="exit()">Salir</button>

    </div>
    <script src="script.js"></script>
    <script>
        // Función para establecer rutina y acumulado en localStorage
        function setRutina(gameName) {
            const codigo = "01cancionesDTA";
            const rutina = `${codigo}_${gameName}`;
            localStorage.setItem("rutina", rutina);
            localStorage.setItem("acumulado", 0); // Inicializar acumulado con valor 0
            console.log(`Se ha almacenado la rutina: ${rutina}`);
            console.log(`Se ha inicializado el acumulado: 0`);
        }

	// Función para redirigir al usuario a la página de salida (salir.html)
        function exit() {
            window.location.href = '../../Menu/salir.html';
        }


        // Función para redireccionar al juego y almacenar información en localStorage
        function redirectToGame(gameName) {
            // Obtener el nombre de usuario actual de localStorage
            var actualUser = localStorage.getItem("ActualUs");
            
            // Obtener el historial de juegos o inicializar si es nulo
            var gamesHistory = JSON.parse(localStorage.getItem("gamesHistory")) || {};

            // Incrementar el contador para este juego específico
            gamesHistory[gameName] = gamesHistory[gameName] ? gamesHistory[gameName] + 1 : 1;

            // Almacenar el historial actualizado en localStorage
            localStorage.setItem("gamesHistory", JSON.stringify(gamesHistory));

            // Construir la URL correcta para el juego
            var gameUrl = encodeURIComponent(gameName) + "/1/1.html";

            // Redirigir al juego
            window.location.href = gameUrl;
	    

        }


    </script>
</body>
</html>
